## 选择题

考点**：xhr.readyState的理解

**类型**：单选

**题干**：

XMLHttpRequest对象的readyState状态,当xhr.readyState==4 表示（  ）

**选项**：

A. 

未初始化

B. 

已初始化

C.

已经完成

D.

正在交互

**正确答案**：C

**答案解析**：

本题考核的知识点是**xhr.readyState**的五种状态

**xhr.readyState**的状态分为以下几种模式

- 0：请求未初始化，还没有调用 open()。

- 1：请求已经建立，但是还没有发送，还没有调用 send()。

- 2：请求已发送，正在处理中（通常现在可以从响应中获取内容头）。

- 3：请求在处理中；通常响应中已有部分数据可用了，没有全部完成。

- 4：响应已完成；您可以获取并使用服务器的响应了。

因此,通过分析,应该选择C,请求已经完成



考点**：JSON格式转换的使用

**类型**：单选

**题干**：

使用JSON对象将字符串转化成对象的函数是：（ ）

**选项**：

A new JSONObject(str)
B JSON.stringify(object)
C toString()
D JSON.parse(str)

**正确答案**：D

**答案解析**：

本题考核的知识点是JSON数据转换的几种模式

B答案 是将JSON对象转化为字符串

C答案是强行转化为string字符串

D答案是将字符串转化为JSON数据格式



**xhr.readyState**的状态分为以下几种模式



## 介绍一下XMLHttpRequest对象的常用方法和属性

```javascript
一, open();

用于设置请求的目标url请求方法, 以及其他参数信息

发送请求的页面在不刷新的情况能将参数传给一个服务器进行处理, 这个方法就是将这些个参数传送过去

参数:

1, method:用于指定请求的类型  "GET"或者"POST"

2, url:用于请求的地址, 可相对可绝对

3, asyncFlag:指定请求方式为同步还是异步, true为异步, false为同步

 

二, send();

用于向服务器发送请求, 如果声明为异步, 那么该方法将立即返回, 否则将等到接收到服务器响应为止

这个东西就是将一些参数以键值对的方式传送给服务器, 异步的话将立即返回服务器的响应, 做到不刷新页面进行数据处理就是用来发送参数的, GET方法下可以在url的后面写上参数的值, POST方法下只能在send()方法里面写上参数的键值对

 

三, setRequestHeader("header","value");

用于为请求的Http头设置值

和下面这个方法互相使用

 

四, getResponseHeader("headerLabel");

返回设置的Http头信息

 

五, abort();

停止或者放弃当前的异步请求

使用了这个请求之后会直接停止getResult的回调函数, 让readyState属性的返回值直接为0

 

六, getAllResponseHeaders();

以字符串的形式返回完整的字符串信息

 

 

属性:

一, onreadystatechange

用于指定状态改变时所触发的事件处理器

在设置回调函数的时候经常用到, 所有的状态改变的时候都会触发这个事件处理器

 

二, readyState

用于获取请求的状态

通过返回的代码是多少来判断当前的状态是什么情况

返回值有

0: 未初始化; 1: 正在加载; 2:已加载; 3:交互中; 4:完成

 

三, responseText

获取服务器的响应, 表示为字符串


 

四, responseXML

用于获取服务器的响应, 表示为HTML或者XML的响应

五, status

返回Http状态码——200:表示成功; 202:表示请求被接受, 但尚未成功; 400:错误的请求; 404:文件未找到; 500:内部服务器错误

六, statusText

返回Http状态码的文本信息
```





# 代码题参考示例

## 1. 题号：01

### 阿里百秀项目

**训练目标**：完成XMLHttpRequest的使用并且能够跟实际应用结合

**案例效果**：

![](代码题.png)

**案例素材**：接口文档参考文档

> Tips：素材在作业文件的根目录文件夹里面；文件的命名叫项目和api接口说明文档.docx

**案例要求**：

1. 动态展示新闻列表数据



**训练提示**：

1. xhr请求数据 连接
2. JSON数据格式转换
3. 渲染页面

**参考方案**：

**操作步骤**：



**参考答案**：

```javascript
// 关键核心的代码以code格式编写，右下方语言选择对应的语言
```

